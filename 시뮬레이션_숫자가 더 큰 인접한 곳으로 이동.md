```python
"""
문제. 코드트리 intermediate low
1이상 100이하의 숫자로 이루어진 n * n 크기의 격자판 정보가 주어진다.
이때 특정 위치에서 시작하여, 상하좌우로 인접한 곳에 있는 숫자들 중 현재 위치에 있는 숫자보다
더 큰 위치로 끊임없이 이동한다.
만약 그러한 위치가 여러개 있는 경우,
상하좌우 방향 순서대로 우선순위를 매겨 가능한 곳 중 우선순위가 더 높은 곳으로 이동한다.
격자를 벗어나서는 안되며, 더 이상 움직일 수 없을 때까지 반복한다.

위의 규칙에 따라 방문하게 되는 위치에 적힌 숫자를 순서대로 출력하는 프로그램을 작성해라.

입력.
첫번째 줄 : 격자크기 n,r,c (r행 c열에서 시작한다는 의미)
두번째 줄 : 각 행의 n개의 숫자

출력.
시작 위치로부터 움직임이 종료될때 까지 방문한 격자에 적혀있는 숫자들을 공백을 사이에 두고 출력

아이디어.
<시뮬레이션>
1) 초기 값
2) 한 턴의 움직임
3) 전체 움직임

--> 한 턴을 돌 떄, 범위에 있는지 확인하고 맞으면 true 아니면 false
--> 전체 움직일 떄마다 방문 위치의 값을 넣어준다.
"""

n, curr_x, curr_y = map(int, input().split())
a = []
for i in range(n):
    a.append(list(map(int, input().split())))

curr_num = []

curr_x -= 1
curr_y -= 1

#상하좌우
dxs = [-1,1,0,0]
dys = [0,0,-1,1]
'''
1 2 2 3
3 5 10 15
3 8 11 2
4 5 4 4
'''
def in_range(x, y):
    if 0 <= x < n and 0 <= y < n :
        return True

def simulate():
    global curr_x, curr_y

    for dx, dy in zip(dxs, dys):
        next_x, next_y = curr_x + dx, curr_y + dy
        if in_range(next_x, next_y) and a[next_x][next_y] > a[curr_x][curr_y]:
            curr_x, curr_y = next_x, next_y
            return True

    return False


curr_num.append(a[curr_x][curr_y])

while True:
    greater = simulate()
    if not greater:
        break

    curr_num.append(a[curr_x][curr_y])

print(*curr_num)
```
